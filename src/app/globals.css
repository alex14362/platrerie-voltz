/* ===== Reset léger ===== */
* { box-sizing: border-box; }
html, body { margin: 0; padding: 0; }
img { display: block; max-width: 100%; height: auto; }
a { color: inherit; text-decoration: none; }
ul { margin: 0; padding: 0; list-style: none; }

/* ===== Design tokens (couleurs / rayons) ===== */
:root{
  --bg: #f1ece3;           /* beige doux du fond */
  --panel: #FAF6EF;        /* panneau clair */
  --panel-border: #E6DFD3;
  --text: #2B2B2B;
  --text-muted:#5F5A56;
  --brand:#0B7C83;         /* vert-bleu comme le logo */
  --brand-d:#08646A;
  --shadow: 0 14px 35px rgba(22,21,18,.08);
  --radius: 18px;
}

/* ===== Base page ===== */
body{
  background: var(--bg);
  color: var(--text);
  font: 16px/1.6 system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  padding-top: 80px;
}
.main{ padding-top: 96px; }
.container{ max-width: 1280px; margin: 0 auto; padding: 0 24px; }

/* ===== NAVBAR ===== */
.site-header{
  position: fixed; inset: 0 0 auto 0; height: 64px; z-index: 1000;
  background: #fff; border-bottom: 1px solid #ece7df; backdrop-filter: blur(3px);
}
.site-header__inner{
  height: 64px;
  display: flex;
  align-items: center;
  justify-content: space-between; 
  padding: 0 40px;
  max-width: 2000px;
  margin: 0 auto;
}

.brand{ display: flex; align-items: center; gap: 10px; font-weight: 700; }
.brand img{ width: 40px; height: 40px; border-radius: 8px; }

/* liens du menu */
.nav{
  display:flex;
  align-items:center;
  gap:22px;
}
.nav a{
  position: relative;
  padding: 6px 4px;
  color: var(--text);
  font-size: 0.87rem;
  letter-spacing: -0.015em;
  font-weight: 500;
  transition: color .2s ease;
}
.nav a:hover{ color: var(--brand); }

/* ligne animée au survol */
.nav a::after{
  content: "";
  position: absolute;
  left: 0;
  bottom: -2px;
  width: 0%;
  height: 2px;
  background: var(--brand);
  transition: width .25s ease;
}
.nav a:hover::after{ width: 100%; }


/* Mobile : on cache la barre de liens et on montre le burger */
@media (max-width: 768px) {
  .nav {
    display: none;
  }

  button[aria-label="Toggle menu"] {
    display: inline-flex !important;
    align-items: center;
    justify-content: center;
  }
}


/* Dropdown Prestations */
.dropdown {
  position: relative;
  display: inline-block;      /* la zone de hover = juste le bouton + le menu */
}

.dropdown__btn {
  display: inline-flex;
  align-items: center;
  gap: 6px;
}

/* menu fermé par défaut */
.submenu {
  width: 440px;
  background: #fff;
  border: 1px solid #ece7df;
  border-radius: 14px;
  box-shadow: var(--shadow);
  padding: 10px;

  position: absolute;
  left: 0;
  top: 100%;                  /* juste sous le bouton */
  margin-top: 8px;

  opacity: 0;
  visibility: hidden;
  transform: translateY(-4px);
  pointer-events: none;
  transition: opacity .15s ease, transform .15s ease;
}

/* s’ouvre seulement quand on est sur .dropdown
   (donc le bouton ou le menu, pas ailleurs) */
.dropdown:hover .submenu {
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
  pointer-events: auto;
}

.submenu__grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
}

.submenu a {
  display: block;
  padding: 10px 12px;
  border-radius: 10px;
  color: var(--text);
}

.submenu a:hover {
  background: #f4efe7;
}

.submenu__footer {
  border-top: 1px solid #ece7df;
  margin-top: 10px;
  padding-top: 10px;
}

.submenu__footer a {
  display: block;
  text-align: center;
  padding: 10px 12px;
  border-radius: 10px;
  background: #eee5d8;
}

.submenu__footer a:hover {
  background: #e6dccd;
}



/* ===== HERO (page d’accueil) ===== */
.panel{
  background: var(--panel);
  border: 1px solid var(--panel-border);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
}

/* boutons */
.btn{
  display:inline-flex; align-items:center; justify-content:center; gap:.5rem;
  padding: 12px 20px; border-radius:999px; font-weight:600; cursor:pointer;
}
.btn--primary{ background: var(--brand); color:#fff; }
.btn--primary:hover{ background: var(--brand-d); }
.btn--ghost{ border:1px solid var(--brand); color: var(--brand); background:transparent; }
.btn--ghost:hover{ background: #e8f3f3; }

/* image blob */
.blob{
  border-radius: 12px;
  overflow: hidden; border:1px solid var(--panel-border); box-shadow: var(--shadow);
}

/* ===== TITRE PRINCIPAL ===== */
.hero-title{
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
  font-weight: 700;
  font-size: clamp(34px, 3.2vw, 48px);
  line-height: 1.12;
  letter-spacing: -0.01em;
  max-width: 16ch;
  margin-bottom: 1.5rem;
  color: #1d1d1d;
}
.hero-title::after {
  content: "";
  display: block;
  width: 64px;
  height: 3px;
  background: var(--brand);
  border-radius: 2px;
  margin-top: 10px;
}
@media (min-width: 1400px){
  .hero-title{ font-size: 46px; max-width: 15ch; }
}

/* grille + centrage vertical */
.hero{ padding: 28px 0 16px; position: relative; isolation: isolate; }
.hero__grid{
  display:grid; grid-template-columns: 1.1fr .9fr; gap: 40px; align-items:center;
}
.hero--center .hero__grid{ min-height: 520px; } 
@media (max-width: 900px){ .hero__grid{ grid-template-columns:1fr; } }

/* halos décoratifs doux */
.hero::before,
.hero::after {
  content: "";
  position: absolute;
  z-index: -1;
  filter: blur(6px);
  opacity: .35;
}
.hero::before {
  top: -40px;
  left: -60px;
  width: 220px;
  height: 220px;
  border-radius: 50%;
  background: radial-gradient(circle at 30% 30%, #ffffff, transparent 70%);
}
.hero::after {
  right: -40px;
  bottom: -40px;
  width: 240px;
  height: 240px;
  border-radius: 50%;
  background: radial-gradient(circle at 60% 60%, #d9efef, transparent 70%);
}

/* animations et effets doux */
@keyframes fadeUp {
  from { opacity: 0; transform: translateY(8px); }
  to { opacity: 1; transform: translateY(0); }
}
@keyframes scaleIn {
  from { opacity: 0; transform: scale(.98); }
  to { opacity: 1; transform: scale(1); }
}
.fade-up { opacity: 0; animation: fadeUp .6s ease forwards; }
.fade-up.delay-1 { animation-delay: .08s; }
.fade-up.delay-2 { animation-delay: .16s; }
.fade-up.delay-3 { animation-delay: .24s; }
.scale-in { opacity: 0; animation: scaleIn .7s ease forwards .18s; }

/* liste d’engagements */
.bullets {
  display: grid;
  gap: 8px;
  margin-top: 12px;
  padding-left: 18px;
  list-style: disc;
  color: var(--text-muted);
}
.bullets strong { color: var(--text); }

/* --- Navbar responsive spacing --- */
.site-header__inner {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 2rem;
  padding: 0.5rem 2rem;
}
@media (min-width: 768px) {
  .site-header__inner { gap: 3.5rem; }
}
@media (min-width: 1200px) {
  .site-header__inner { gap: 6rem; }
}

/* Flèches vertes dans la liste des valeurs (pages internes) */
.panel ul li::before {
  content: "➜";
  color: #0f766e;
  font-weight: bold;
  margin-right: 8px;
}
.panel ul li { list-style: none; position: relative; }

/* ========= Décor Accueil (home-hero) ========= */

/* Conteneur décoratif de la section hero de l'accueil */
.home-hero{
  position: relative;
  isolation: isolate; /* pour gérer les z-index proprement */
}

/* Deux halos doux (très discrets) aux coins */
.home-hero::before,
.home-hero::after{
  content:"";
  position:absolute;
  z-index:-1;
  filter: blur(8px);
  opacity:.35;
  pointer-events:none;
}
.home-hero::before{
  top:-38px; left:-56px;
  width:220px; height:220px; border-radius:50%;
  background: radial-gradient(circle at 30% 30%, #ffffff, transparent 70%);
}
.home-hero::after{
  right:-46px; bottom:-46px;
  width:240px; height:240px; border-radius:50%;
  background: radial-gradient(circle at 60% 60%, color-mix(in oklab, var(--brand) 18%, #fff), transparent 70%);
}

/* Motif discret de points derrière la photo (gris/vert très léger) */
.home-hero .blob{
  position: relative;
}
.home-hero .blob::before{
  content:"";
  position:absolute;
  inset:-14px -18px -18px -14px; /* déborde un peu autour de l'image */
  z-index:-1;
  border-radius:16px;
  opacity:.22;
  background:
    radial-gradient(circle 2px, color-mix(in oklab, var(--brand) 18%, #fff) 98%, transparent 100%) 0 0/18px 18px,
    linear-gradient(to bottom right, #fff 0%, transparent 60%);
  filter: saturate(0.85);
}

/* Petit séparateur sous le titre (déjà probable, on le renforce un peu) */
.hero-title::after{
  content:"";
  display:block;
  width:64px; height:3px;
  background: var(--brand);
  border-radius:2px;
  margin-top:10px;
}

/* Tagline (phrase d’accroche) sous le titre */
.tagline{
  color: var(--text-muted);
  font-size: 1rem;
  line-height: 1.6;
  margin-top: 10px;
  letter-spacing: .01em;
  font-style: italic;
}

/* Animations douces (si tu ne les as pas déjà) */
@keyframes fadeUp {
  from { opacity: 0; transform: translateY(8px); }
  to   { opacity: 1; transform: translateY(0); }
}
@keyframes scaleIn {
  from { opacity: 0; transform: scale(.985); }
  to   { opacity: 1; transform: scale(1); }
}
.fade-up { opacity: 0; animation: fadeUp .6s ease forwards; }
.fade-up.delay-1 { animation-delay: .08s; }
.fade-up.delay-2 { animation-delay: .16s; }
.fade-up.delay-3 { animation-delay: .24s; }
.scale-in { opacity: 0; animation: scaleIn .7s ease forwards .18s; }

/* Section “Nos engagements” : bullets sobres */
.bullets {
  display: grid;
  gap: 8px;
  margin-top: 12px;
  padding-left: 18px;
  list-style: disc;
  color: var(--text-muted);
}
.bullets strong { color: var(--text); }

/* ========= DÉCOR GÉOMÉTRIQUE - Page d'accueil ========= */

/* Ciblage spécifique du panneau principal de la page d'accueil */
.home-hero .panel {
  position: relative;
  overflow: hidden;
  background: var(--panel);
}

/* Petites formes décoratives dans les coins du panneau */
.home-hero .panel::before,
.home-hero .panel::after {
  content: "";
  position: absolute;
  z-index: 0;
  opacity: 0.15;
  pointer-events: none;
}

/* Forme géométrique en haut à gauche */
.home-hero .panel::before {
  top: -40px;
  left: -40px;
  width: 180px;
  height: 180px;
  background: conic-gradient(
    from 160deg,
    color-mix(in oklab, var(--brand) 25%, #fff) 0%,
    transparent 60%
  );
  border-radius: 40% 60% 70% 30% / 50% 40% 60% 50%;
  transform: rotate(-8deg);
  filter: blur(6px);
}

/* Forme géométrique en bas à droite */
.home-hero .panel::after {
  right: -60px;
  bottom: -50px;
  width: 220px;
  height: 220px;
  background: radial-gradient(
    circle at 70% 70%,
    color-mix(in oklab, var(--brand) 18%, #fff) 0%,
    transparent 70%
  );
  border-radius: 50%;
  filter: blur(10px);
}

/* Petit motif subtil (grille de points) dans le fond du panneau */
.home-hero .panel::marker {
  content: none;
}

.home-hero .panel::before,
.home-hero .panel::after {
  mix-blend-mode: multiply;
}

/* Pour éviter que le texte soit sous les décors */
.home-hero .panel > * {
  position: relative;
  z-index: 1;
}

/* Bonus : un petit effet de “halo” sur hover (optionnel, joli sur desktop) */
@media (hover: hover) {
  .home-hero .panel:hover::before,
  .home-hero .panel:hover::after {
    opacity: 0.22;
    transition: opacity 0.3s ease;
  }
}

/* ========= Bandes latérales bleu-vert pour la page d'accueil ========= */
.home-hero {
  position: relative;
  isolation: isolate; /* pour bien gérer les pseudo-éléments */
}

/* Bandes décoratives gauche/droite */
.home-hero::before,
.home-hero::after {
  content: "";
  position: absolute;
  top: 0;
  width: 80px;        /* largeur de la bande */
  height: 100%;
  background: linear-gradient(
    to bottom,
    rgba(11, 124, 131, 0.08),
    rgba(11, 124, 131, 0.12),
    rgba(11, 124, 131, 0.08)
  );
  z-index: 0;
  border-radius: 0 12px 12px 0; /* arrondi léger pour le look artisanal */
  pointer-events: none;
}

/* ==== Variables responsive pour les bandes ==== */
:root{
  /* largeur qui s'adapte: 8px -> 28px selon viewport */
  --band-w: clamp(8px, 2.2vw, 23px);
  /* positions “vers le centre” qui s’adaptent */
  --band-inset-1: clamp(5%, 12vw, 8%); /* bande la + proche du bord */
  --band-gap: 3%;                         /* écart entre les 2 bandes d’un côté */
  --band-inset-2: calc(var(--band-inset-1) + var(--band-gap));
  --band-color: #9CB5A1;                  /* ta couleur actuelle */
}

/* on force les bandes en arrière-plan */
html::before, html::after, body::before, body::after{
  content:"";
  position: fixed;
  top:0; bottom:0;
  width: var(--band-w);
  background: var(--band-color);
  pointer-events:none;
  z-index: 0;               /* <= derrière le contenu qui sera z-index:1 */
  border-radius:0;
}

/* gauche */
html::before{ left: var(--band-inset-1); }
html::after { left: var(--band-inset-2); }

/* droite */
body::before{ right: var(--band-inset-2); }
body::after { right: var(--band-inset-1); }

/* le contenu passe au-dessus des bandes */
main, header, footer, section, .card, .container, nav{
  position: relative;
  z-index: 1;
}

/* si besoin on atténue un peu en mobile au lieu de cacher */
@media (max-width: 768px){
  html::before, html::after, body::before, body::after{
    opacity: .25;           /* plus discret en petit écran */
  }
}

/* Page + éléments qui apparaissent en douceur */
.reveal { 
  opacity: 0;
  transform: translateY(12px);
  will-change: opacity, transform;
  transition: opacity .45s ease, transform .45s ease;
}
.reveal.is-in {
  opacity: 1;
  transform: translateY(0);
}

/* Stagger léger pour enfants .reveal */
.reveal-stagger > * {
  opacity: 0;
  transform: translateY(12px);
  transition: opacity .45s ease, transform .45s ease;
}
.reveal-stagger > *:nth-child(1) { transition-delay: .05s; }
.reveal-stagger > *:nth-child(2) { transition-delay: .10s; }
.reveal-stagger > *:nth-child(3) { transition-delay: .15s; }
.reveal-stagger > *:nth-child(4) { transition-delay: .20s; }
.reveal-stagger > *:nth-child(5) { transition-delay: .25s; }

/* Accessibilité : si l’utilisateur préfère réduire les animations */
@media (prefers-reduced-motion: reduce) {
  .reveal, .reveal-stagger > * {
    transition: none !important;
    opacity: 1 !important;
    transform: none !important;
  }
}

/* État initial (invisible au début) */
.reveal,
.reveal-stagger > * {
  opacity: 0;
  transform: translateY(20px);
  transition: opacity 0.9s ease, transform 0.9s ease;
}

/* État final (visible) */
.reveal.is-in,
.reveal-stagger > *.is-in {
  opacity: 1;
  transform: translateY(0);
}

p {
  text-align: justify;
  text-justify: inter-word; /* améliore la répartition des espaces */
}

/* ====== Galerie (Réalisations) ====== */

.gallery{
  display: grid;
  grid-template-columns: repeat(12, 1fr);
  gap: 14px;
}

/* Grille responsive (masonry-like simple) */
.gallery__item{
  grid-column: span 4; /* 3 par ligne en desktop */
  display: block;
  padding: 0;
  border: none;
  background: transparent;
  cursor: zoom-in;
  text-align: left;
  border-radius: 14px;
  overflow: hidden;
  border: 1px solid var(--panel-border);
  box-shadow: var(--shadow);
  transition: transform .15s ease, box-shadow .15s ease;
}

.gallery__item:hover{
  transform: translateY(-2px);
  box-shadow: 0 18px 40px rgba(22,21,18,.10);
}

.gallery__item img{
  width: 100%;
  height: 240px;
  object-fit: cover;
  display: block;
  background: #eee5d8;
}

.gallery__caption{
  display: block;
  font-size: .9rem;
  font-weight: 700;  
  color: var(--text);
  padding: 10px 12px;
  background: #fff;
  
}

/* 2 par ligne sur tablettes */
@media (max-width: 1000px){
  .gallery__item{ grid-column: span 6; }
}

/* 1 par ligne sur mobile */
@media (max-width: 560px){
  .gallery__item{ grid-column: span 12; }
  .gallery__item img{ height: 220px; }
}

/* ====== Filtres tags ====== */
.chip{
  appearance: none;
  border: 1px solid var(--panel-border);
  background: #fff;
  color: var(--text);
  padding: 8px 12px;
  border-radius: 999px;
  cursor: pointer;
  font-weight: 600;
  transition: background .15s ease, color .15s ease, border-color .15s ease;
}
.chip:hover{
  background: #f1fafb;
  border-color: #cee9eb;
}
.chip.is-active{
  background: var(--brand);
  border-color: var(--brand);
  color: #fff;
}

/* ====== Lightbox ====== */
.lightbox{
  position: fixed; inset: 0;
  background: rgba(0,0,0,.55);
  display: grid;
  place-items: center;
  padding: 24px;
  z-index: 999;
}

.lightbox__inner{
  max-width: min(1100px, 92vw);
  width: 100%;
  background: #fff;
  border-radius: 16px;
  overflow: hidden;
  box-shadow: 0 30px 80px rgba(0,0,0,.35);
  border: 1px solid #e7e1d8;
}

.lightbox__inner img{
  width: 100%;
  height: auto;
  display: block;
  max-height: 75vh;
  object-fit: contain;
  background: #b8b8b8;  /* ton bleu clair de fond */
}

/* --- footer texte + bouton --- */
.lightbox__footer{
  display: flex;
  align-items: center;
  padding: 14px 16px;
  background: #fff;
}

/* le texte prend toute la largeur dispo et se centre */
.lightbox__footer p{
  flex: 1;
  margin: 0;
  font-weight: 700 !important;     /* force le gras */
  text-align: center !important;   /* force le centrage */
  font-size: 1rem;
  color: var(--text);
}

/* le bouton reste à droite et ne se réduit pas */
.lightbox__footer .btn{
  flex-shrink: 0;
}

/* ========= Ajustements MOBILE ========= */
@media (max-width: 768px) {

  body {
    padding-top: 72px;          /* un peu moins d’espace en haut */
  }

  .container {
    padding: 0 16px;            /* marges latérales plus petites */
  }

  /* Header / navbar plus compacte */
  .site-header__inner {
    height: auto;
    padding: 8px 16px;
    flex-direction: column;     /* logo au-dessus, menu en dessous */
    align-items: flex-start;
    gap: 8px;
  }

  .brand img {
    width: 32px;
    height: 32px;
  }

  .nav {
    flex-wrap: wrap;            /* les liens peuvent passer sur 2 lignes */
    gap: 10px;
  }

  .nav a {
    font-size: 0.8rem;
    padding: 4px 2px;
  }

  /* Hero : un peu plus compact */
  .hero {
    padding: 16px 0 8px;
  }

  .hero-title {
    font-size: 1.8rem;
  }

  /* Galerie : déjà en 1 colonne, on rend les cartes un peu moins hautes */
  .gallery__item img {
    height: 190px;
  }

  /* Lightbox : mieux utiliser la largeur */
  .lightbox {
    padding: 12px;
  }

  .lightbox__inner {
    max-width: 100%;
    border-radius: 12px;
  }

  .lightbox__footer {
    flex-direction: column;
    align-items: stretch;
    gap: 8px;
  }

  .lightbox__footer .btn {
    width: 100%;
    justify-content: center;
  }
}

/* ===== Mise en page des prestations (desktop) ===== */
.service-hero {
  display: grid;
  grid-template-columns: 1.1fr 0.9fr;
  gap: 32px;
  align-items: center;
}

.service-layout {
  display: grid;
  grid-template-columns: 2fr 1fr;
  gap: 28px;
}

/* ===== Version mobile ===== */
@media (max-width: 768px) {
  .service-hero {
    grid-template-columns: 1fr;   /* texte puis image en dessous */
    row-gap: 20px;
  }

  .service-hero__image img.service-photo {
    width: 220px;
    height: 220px;
    margin: 0 auto;
  }

  .service-layout {
    display: block;              /* on empile le texte puis le bloc de droite */
  }

  .service-side {
    margin-top: 20px;            /* bloc "Zone d’intervention / Contact" en dessous */
  }
}

.nav-desktop {
  display: flex;
}

.burger-mobile {
  display: none;
}

@media (max-width: 768px) {
  .nav-desktop {
    display: none;
  }

  .burger-mobile {
    display: block;
    font-size: 26px;
    background: none;
    border: none;
  }
}


/* =========================================================
   NAVBAR MOBILE – FIX FINAL OFFICIEL
   (À placer TOUT EN BAS de globals.css)
   ========================================================= */

/* état desktop */
.nav-desktop {
  display: flex;
}

.burger-mobile {
  display: none;
}

/* ================= MOBILE ================= */
@media (max-width: 768px) {

  /* HEADER : UNE SEULE LIGNE */
  .site-header {
    height: 64px;
  }

  .site-header__inner {
    height: 64px;
    flex-direction: row !important; /* empêche l’empilement */
    align-items: center;
    justify-content: space-between;
    padding: 0 16px;
  }

  /* cache la nav desktop */
  .nav-desktop {
    display: none;
  }

  /* burger visible */
  .burger-mobile {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: 28px;
    background: none;
    border: none;
    cursor: pointer;
  }

  /* MENU MOBILE */
  .mobile-menu {
    position: fixed;
    top: 64px;
    left: 0;
    right: 0;
    background: #fff;
    border-bottom: 1px solid #ece7df;
    box-shadow: 0 14px 35px rgba(22, 21, 18, 0.08);
    z-index: 3000;
    max-height: calc(100vh - 64px);
    overflow-y: auto;
    padding: 12px 0;
  }

  .mobile-item {
    display: block;
    width: 100%;
    padding: 14px 0;
    background: none;
    border: none;
    text-align: left;
    font-size: 1rem;
    font-weight: 600;
    color: var(--text);
    cursor: pointer;
  }

  .mobile-item:hover {
    color: var(--brand);
  }

  /* bouton Prestations */
  .mobile-prestations {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  /* sous-menu */
  .mobile-sub {
    padding: 6px 0 10px 16px;
  }

  .mobile-sub li a {
    display: block;
    padding: 8px 0;
    font-size: 0.95rem;
    font-weight: 500;
    color: var(--text-muted);
  }

  .mobile-sub li a:hover {
    color: var(--brand);
  }
}
